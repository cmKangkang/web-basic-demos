{"version":3,"sources":["components/Header/style.module.less","pages/Home/style.module.less","pages/Open/style.module.less","pages/Put/Done/style.module.less","pages/Open/Tip/style.module.less","pages/Open/Info/style.module.less","pages/Put/Main/style.module.less","components/Put/Input/style.module.less","pages/Home/index.tsx","assets/img/logo_big.png","pages/Open/Tip/index.tsx","utils/index.ts","pages/Open/Info/index.tsx","services/request.ts","pages/Open/index.tsx","services/api.ts","pages/Put/Done/index.tsx","components/Put/Input/index.tsx","components/Put/Form/index.tsx","pages/Put/Main/index.tsx","store/index.ts","components/Header/index.tsx","pages/index.tsx","reportWebVitals.ts","index.tsx"],"names":["module","exports","Home","className","style","container","logo","src","alt","title","nav","to","navItem","footer","href","Tip","props","date","moment","time","valueOf","useState","inter","setInter","history","useHistory","useEffect","name","replace","timer","setInterval","remain","clearInterval","year","month","day","hour","minute","second","sec","Math","floor","fromNow","tip","label","content","Info","main","info","instance","axios","create","baseURL","timeout","headers","interceptors","request","use","config","error","Promise","reject","response","data","post","url","params","a","JSON","stringify","res","console","log","Open","val","setVal","pill","setPill","open","htmlFor","type","value","id","onChange","e","target","btn","onClick","length","key","re","push","stat","path","exact","render","PutDone","location","useLocation","state","disp","preventDefault","Input","flag","msg","err","setErr","setFlag","initialValue","check","handleChange","rules","i","rule","message","required","test","reg","min","max","formItem","cols","rows","Form","form","useRef","ref","onSubmit","inputs","current","querySelectorAll","values","forEach","item","onFinish","children","emailRegx","timeRegx","observer","valid","setName","email","setEmail","setTime","setInfo","setTip","handleSubmit","alert","format","store","makeAutoObservable","this","theme","observable","action","autorun","root","document","getElementById","getAttribute","setAttribute","change","Header","header","activeClassName","navItemActive","themeBtn","Page","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.e11eb69c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"style_header__2JHPb\",\"container\":\"style_container__2wHXi\",\"themeBtn\":\"style_themeBtn__3Asdb\",\"logo\":\"style_logo__1S4B1\",\"nav\":\"style_nav__239Xj\",\"navItem\":\"style_navItem__2XlLZ\",\"navItemActive\":\"style_navItemActive__3qWWR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"style_container__2b2Cd\",\"title\":\"style_title__1xWv0\",\"nav\":\"style_nav__23QJC\",\"navItem\":\"style_navItem__2wKhc\",\"footer\":\"style_footer__3GssZ\",\"logo\":\"style_logo__3dVxW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"style_main__1QWxq\",\"title\":\"style_title__2i-Fp\",\"open\":\"style_open__1k2jI\",\"btn\":\"style_btn__1nzGI\",\"error\":\"style_error__3iRwf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"style_main__lLzhi\",\"title\":\"style_title__i1DsP\",\"disp\":\"style_disp__3UtXm\",\"tip\":\"style_tip__wD33E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tip\":\"style_tip__aWuy8\",\"label\":\"style_label__2TSiv\",\"content\":\"style_content__z5XRe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"style_main__39buO\",\"label\":\"style_label__3KMbu\",\"content\":\"style_content__192Wb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"style_main__2OFRn\",\"title\":\"style_title__HNByW\",\"btn\":\"style_btn__Cwi0x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formItem\":\"style_formItem__1zznh\",\"tip\":\"style_tip__3QGLR\",\"err\":\"style_err__2GkyL\"};","import { useState, useEffect } from \"react\";\r\nimport { Link } from 'react-router-dom';\r\nimport style from './style.module.less';\r\nimport logo from '../../assets/img/logo_big.png';\r\nexport default function Home() {\r\n  return (\r\n    <div className={style.container}>\r\n      <div className={style.logo}>\r\n        <img src={logo} alt=\"LOGO\" />\r\n      </div>\r\n      <h1 className={`${style.title} title dark`}>时间胶囊</h1>\r\n      <ul className={`${style.nav} home-nav dark`}>\r\n        <Link to='/put' className={style.navItem}>\r\n          <h1>Put</h1>\r\n          <span>添加</span>\r\n        </Link>\r\n        <Link to='/open' className={style.navItem}>\r\n          <h1>Open</h1>\r\n          <span>打开</span>\r\n        </Link>\r\n      </ul>\r\n      <div className={`${style.footer} footer dark`}>\r\n        <a href=\"#i've-no-idea\" title=\"别点，我也不晓得~\">什么是时间胶囊？</a>\r\n      </div>\r\n    </div>\r\n  )\r\n}","export default \"data:image/png;base64,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\"","import { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport moment from 'moment';\r\nimport { fromNow } from '../../../utils';\r\nimport style from './style.module.less';\r\ninterface Props {\r\n  time: string,\r\n  name: string,\r\n  tip: string\r\n}\r\n\r\nexport default function Tip(props: Props) {\r\n  const date = moment(props.time).valueOf();\r\n  const [inter, setInter] = useState('');\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    if(!props.name) {\r\n      history.replace('/open')\r\n    }\r\n  })\r\n\r\n  useEffect(() => {\r\n    const timer = setInterval(() => {\r\n      // 每1s刷新时间\r\n      let remain = date - moment().valueOf();\r\n      if(remain <= 0) {\r\n        clearInterval(timer);\r\n      }\r\n      setInter(fromNow(remain));\r\n    }, 1000);\r\n    return () => clearInterval(timer);\r\n  }, []);\r\n\r\n  return (\r\n    <div className={`${style.tip} info-tip dark`}>\r\n      <h2 className={style.label}>这颗胶囊未到提取时间，不能打开。</h2>\r\n      <br />\r\n      <p>打开时间在 <span>{ props.time }</span> ，距离现在 <span>{ inter }</span></p>\r\n      <div className={style.content}>\r\n        <span>{ props.name }</span> 给你留的提示信息：<span>{ props.tip }</span>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import moment from 'moment'\r\nexport function fromNow(inter: number) {\r\n  // let now = moment();\r\n  // let date = moment(time);\r\n  // let sec = date.diff(now, 'seconds');\r\n  let year: number, month: number, day: number, hour: number, minute: number, second;\r\n  let sec = Math.floor(inter / 1000);\r\n\tyear = Math.floor(sec / 31536000);\r\n\tsec = sec % 31536000;\r\n\tmonth = Math.floor(sec / 2592000);\r\n\tsec = sec % 2592000;\r\n\tday = Math.floor(sec / 86400);\r\n\tsec = sec % 86400;\r\n\thour = Math.floor(sec / 3600);\r\n\tsec = sec % 3600;\r\n\tminute = Math.floor(sec / 60);\r\n\tsecond = sec % 60;\r\n\treturn `${year}年${month}月${day}天 ${hour}小时${minute}分钟${second}秒`;\r\n}","import style from './style.module.less';\r\nimport { useEffect } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\ninterface Props {\r\n  name: string,\r\n  time: string,\r\n  info: string\r\n}\r\nexport default function Info(props: Props) {\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    if(!props.name) {\r\n      history.replace('/open')\r\n    }\r\n  });\r\n  return (\r\n    <div className={`${style.main} info dark`}>\r\n      <h2 className={style.label}>{ props.name } 在 { props.time } 对你说：</h2>\r\n      <div className={style.content}>\r\n        { props.info }\r\n      </div>\r\n    </div>\r\n  )\r\n}","import axios from 'axios';\r\n\r\nconst BS_URL = 'http://127.0.0.1:4001';\r\n\r\nconst instance = axios.create({\r\n  baseURL: BS_URL,\r\n  timeout: 3000,\r\n  // header: {}\r\n  headers: {\r\n    'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\r\n  },\r\n});\r\n\r\n// request拦截器\r\ninstance.interceptors.request.use(\r\n  config => {\r\n    return config;\r\n  },\r\n  error => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// response拦截器\r\ninstance.interceptors.response.use(\r\n  response => {\r\n    return response.data;\r\n  },\r\n  error => {\r\n    return Promise.reject(error);\r\n  }\r\n)\r\n\r\nexport const post = async <T>(url: string, params: object) => {\r\n  let res: T = await instance.post(url, JSON.stringify(params));\r\n  console.log(res);\r\n  return res;\r\n}\r\n","import { useState } from \"react\";\r\nimport { Switch, Route, useHistory } from 'react-router-dom';\r\nimport moment from 'moment';\r\nimport style from './style.module.less';\r\nimport Tip from './Tip';\r\nimport Info from \"./Info\";\r\nimport { IPill } from '../../interface';\r\nimport { getPill } from '../../services/api';\r\nexport default function Open() {\r\n  const [val, setVal] = useState('');\r\n  const [pill, setPill] = useState<IPill>();\r\n  const history = useHistory();\r\n  return (\r\n    <div className={style.main}>\r\n      <div>\r\n        <h1 className={style.title}>打开胶囊</h1>\r\n        <div className={style.open}>\r\n          <label htmlFor=\"\">胶囊Key: </label>\r\n          <input type=\"text\" name=\"key\" value={val} id=\"key\" onChange={e => {\r\n            setVal(e.target.value);\r\n          }} />\r\n          <button className={`${style.btn} dark`} onClick={async () => {\r\n            if(val.length === 0) return;\r\n            let re = await getPill({key: val});\r\n            if(re.key) {\r\n              // 成功\r\n              setPill(re);\r\n              let { time } = re;\r\n              if(moment(time).valueOf() - moment().valueOf() <= 0) {\r\n                // 时间已到\r\n                history.push('/open/info');\r\n              } else {\r\n                history.push('/open/tip');\r\n              }\r\n            } else if(re.stat === 'not_found') {\r\n              // 失败\r\n              history.push('/open/err');\r\n            }\r\n          }}>打开胶囊</button>\r\n        </div>\r\n      </div>\r\n      <Switch>\r\n        <Route path='/open/info' exact render={() => {\r\n          return <Info name={pill?.name || ''} time={pill?.time || ''} info={pill?.info || ''} />\r\n        }} />\r\n        <Route path='/open/tip' exact render={() => {\r\n          return <Tip name={pill?.name || ''} time={pill?.time || ''} tip={pill?.tip || ''} />\r\n        }} />\r\n        <Route path='/open/err' exact render={() => {\r\n          return <div className={style.error}>没有这个胶囊key</div>;\r\n        }} />\r\n      </Switch>\r\n    </div>\r\n  )\r\n}","import { post } from './request';\r\nimport { IPill, IAddResponse, IGetResponse } from '../interface';\r\nexport function addPill(data: IPill) {\r\n  return post<IAddResponse>('/api/add', data);\r\n}\r\n\r\nexport function getPill(data: {key: string}) {\r\n  return post<IGetResponse>('/api/get', data);\r\n}","import { useEffect } from \"react\";\r\nimport { useLocation, useHistory } from 'react-router-dom'\r\nimport style from './style.module.less';\r\ninterface State {\r\n  key: string\r\n}\r\nexport default function PutDone() {\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  let state = location.state as State;\r\n  useEffect(() => {\r\n    console.log(location.state);\r\n    if(!state) {\r\n      history.replace('/put');\r\n    }\r\n  }, [])\r\n  return (\r\n    <div className={style.main}>\r\n      <div className={style.title}>\r\n        胶囊添加成功\r\n      </div>\r\n      <div className={style.disp}>\r\n        <label htmlFor=\"key\">胶囊Key</label>\r\n        <input type=\"text\" name=\"key\" value={state?.key} onChange={e => e.preventDefault()} id=\"key\" />\r\n        <span className={style.tip}>你可以复制 key自己保存，也可以发送给你的好友，让他来打开胶囊。</span>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport style from './style.module.less';\r\n\r\ninterface Props {\r\n  // onChange函数，将参数传出\r\n  onChange: (value: string, valid: boolean) => void,\r\n  // 校验规则\r\n  rules?: Rule[],\r\n  name: string,\r\n  // label\r\n  label: string,\r\n  tip?: string, \r\n  type: 'text' | 'textarea',\r\n  initialValue?: string,\r\n}\r\n\r\ninterface Rule {\r\n  required?: boolean,\r\n  test?: RegExp,\r\n  min?: number,\r\n  max?: number,\r\n  message: string,\r\n}\r\n\r\n// input组件，自带校验功能，可返回自身状态。\r\nexport default function Input(props: Props) {\r\n  const [val, setVal] = useState('');\r\n  const [err, setErr] = useState({flag: false, msg: ''});\r\n  const [flag, setFlag] = useState(false); // 标志位，用于初始化第一次错误信息\r\n  useEffect(() => {\r\n    setVal(props.initialValue || '');\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // 执行一次\r\n    if(flag) {\r\n      props.onChange(val, check(val));\r\n    } else {\r\n      setFlag(true);\r\n    }\r\n  }, [val]);\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n    let value = e.target.value;\r\n    setVal(value);\r\n  }\r\n\r\n  const check = (value: string) => {\r\n    if(props.rules) {\r\n      for(let i = 0; i < props.rules?.length; i++) {\r\n        const rule = props.rules[i];\r\n        const message = rule.message;\r\n        if(rule.required && value.length === 0) { // 处理required\r\n          // 增加错误dom\r\n          setErr({flag: true, msg: message});\r\n          return false;\r\n        } \r\n        if(rule.test) { // 处理test\r\n          const reg = rule.test;\r\n          if(!reg || !reg.test(value)) { // 不满足格式条件\r\n            // 增加错误提示dom\r\n            setErr({flag: true, msg: message});\r\n            return false;\r\n          }\r\n        }\r\n        if(rule.min) {\r\n          const min = rule.min;\r\n          if(value.length < min) \r\n          {\r\n            setErr({flag: true, msg: message});\r\n            return false;\r\n          }\r\n        }\r\n        if(rule.max) {\r\n          const max = rule.max;\r\n          if(value.length > max) {\r\n            setErr({flag: true, msg: message});\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    setErr({flag: false, msg: ''});\r\n    return true;\r\n  }\r\n\r\n  return (\r\n    <div className={style.formItem}>\r\n      <label htmlFor=\"input\">{props.label}</label>\r\n      {\r\n        err.flag ? <div className={style.err}>{err.msg}</div> : ''\r\n      }\r\n      {\r\n        props.type === 'text' ? \r\n          <input className='form-item' type=\"text\" name={props.name} value={val} onChange={handleChange} /> :\r\n          <textarea className='form-item' name={props.name} value={val} cols={50} rows={3} onChange={handleChange} ></textarea>\r\n      }\r\n      {\r\n        props.tip && props.tip.length > 0 ? <span className={style.tip}>{props.tip}</span> : ''\r\n      }\r\n    </div>\r\n  )\r\n}","import React, { useRef } from 'react';\r\ninterface Props {\r\n  onFinish: (values: any) => Promise<void>,\r\n  children: any\r\n}\r\n\r\n// 该组件暂未实现设想的功能\r\nexport default function Form(props: Props) {\r\n  const form = useRef<HTMLFormElement>(null);\r\n  return (\r\n    <form \r\n      ref={form}\r\n      onSubmit={(e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n        const inputs = form.current?.querySelectorAll('.form-item') as NodeListOf<HTMLInputElement | HTMLTextAreaElement>;\r\n        const values: any = {};\r\n        inputs?.forEach(item => {\r\n          values[item.name] = item.value;\r\n        });\r\n        // 将数据传出\r\n        props.onFinish(values);\r\n      }}\r\n    >\r\n      {props.children}\r\n    </form>\r\n  )\r\n}","import { useState } from \"react\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport style from './style.module.less';\r\nimport Input from \"../../../components/Put/Input\";\r\nimport Form from \"../../../components/Put/Form\";\r\nimport moment from 'moment';\r\nimport { IPill } from '../../../interface';\r\nimport { addPill } from '../../../services/api';\r\nimport { observer } from \"mobx-react\";\r\n\r\nconst emailRegx = /^[A-Za-z0-9\\u4e00-\\u9fa5]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/;\r\nconst timeRegx = /^(?:19|20)[0-9][0-9]-(?:(?:0[1-9])|(?:1[0-2]))-(?:(?:[0-2][1-9])|(?:[1-3][0-1])) (?:(?:[0-2][0-3])|(?:[0-1][0-9])):[0-5][0-9]:[0-5][0-9]$/;\r\n\r\nfunction PutMain() {\r\n  const [name, setName] = useState({val: '', valid: false});\r\n  const [email, setEmail] = useState({val: '', valid: false});\r\n  const [time, setTime] = useState({val: '', valid: false});\r\n  const [info, setInfo] = useState({val: '', valid: false});\r\n  const [tip, setTip] = useState({val: '', valid: false});\r\n  const history = useHistory();\r\n  const handleSubmit = async (values: IPill) => {\r\n    console.log(values);\r\n    let re = await addPill(values);\r\n    if(re.stat === 'ok') {\r\n      // 成功\r\n      history.push('/put/done', {\r\n        key: re.key || ''\r\n      });\r\n    } else {\r\n      alert('胶囊添加失败！');\r\n    }\r\n  }\r\n  return (\r\n    <div className={style.main}>\r\n      <h1 className={style.title}>添加胶囊</h1>\r\n      <Form \r\n        onFinish={handleSubmit}\r\n      >\r\n        <Input \r\n          name='name'\r\n          label={'你的名字'}\r\n          type={'text'}\r\n          onChange={(val, valid) => {\r\n            setName({val, valid});\r\n          }}\r\n          rules={[\r\n            {required: true, message: '名字 必须填写'},\r\n            {max: 16, message: '名字 不得长于16个字符'}\r\n          ]}\r\n        />\r\n        <Input \r\n          name='email'\r\n          label={'你的邮箱'}\r\n          type={'text'}\r\n          onChange={(val, valid) => {\r\n            setEmail({val, valid});\r\n          }}\r\n          rules={[\r\n            {required: true, message: '邮箱 必须填写'},\r\n            {test: emailRegx, message: '邮箱地址 格式不正确'},\r\n            {max: 256, message: '邮箱地址不得长于256个字符'}\r\n          ]}\r\n        />\r\n        <Input \r\n          name='time'\r\n          label={'打开时间'}\r\n          type={'text'}\r\n          tip={'打开时间之前，胶囊内容不可见。'}\r\n          initialValue={moment().format('YYYY-MM-DD HH:mm:ss')}\r\n          onChange={(val, valid) => {\r\n            setTime({val, valid});\r\n          }}\r\n          rules={[\r\n            {required: true, message: '时间 必须填写'},\r\n            {test: timeRegx, message: '时间 格式不正确'},\r\n          ]}\r\n        />\r\n        <Input \r\n          name='info'\r\n          label={'胶囊内容'}\r\n          type={'textarea'}\r\n          tip={'胶囊内容不能超过5000字。'}\r\n          onChange={(val, valid) => {\r\n            setInfo({val, valid});\r\n          }}\r\n          rules={[\r\n            {required: true, message: '内容 必须填写'},\r\n            {max: 5000, message: '内容不得超过5000个字符'}\r\n          ]}\r\n        />\r\n        <Input \r\n          name='tip'\r\n          label={'未到日期提示信息'}\r\n          type={'textarea'}\r\n          tip={'在 打开时间 之前打开胶囊，会看到提示信息。'}\r\n          onChange={(val, valid) => {\r\n            setTip({val, valid});\r\n          }}\r\n          rules={[\r\n            {max: 100, message: '提示信息不得超过100个字符'}\r\n          ]}\r\n        />\r\n        <button \r\n          className={`${style.btn} dark`} \r\n          type='submit'\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            if(name.valid && time.valid && email.valid && info.valid && tip.val) {\r\n              // 合理\r\n              const pill = {\r\n                name: name.val,\r\n                email: email.val,\r\n                time: time.val,\r\n                info: info.val,\r\n                tip: tip.val\r\n              }\r\n              handleSubmit(pill);\r\n            }\r\n          }}\r\n        >\r\n          添加胶囊\r\n        </button>\r\n      </Form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default observer(PutMain);","import { action, autorun, makeAutoObservable, observable } from 'mobx';\r\nimport { AllHTMLAttributes } from 'react';\r\ntype Theme = 'light' | 'dark';\r\nclass Store {\r\n  @observable\r\n  theme: Theme = 'light';\r\n  @action\r\n  change() {\r\n    if(this.theme === 'dark') {\r\n      this.theme = 'light';\r\n    } else {\r\n      this.theme = 'dark';\r\n    }\r\n  }\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n  }\r\n}\r\n\r\nconst store = new Store();\r\n\r\nfunction change(theme: string) {\r\n  const root = document.getElementById('root');\r\n  let _theme = root?.getAttribute('theme');\r\n  if(theme === _theme) return;\r\n  root?.setAttribute('theme', theme);\r\n  console.log('change to', theme);\r\n}\r\n\r\n\r\nautorun(() => {\r\n  change(store.theme);\r\n});\r\nexport default store;","import { NavLink,  } from 'react-router-dom';\r\nimport style from './style.module.less';\r\nimport store from '..//../store';\r\nexport default function Header() {\r\n  return (\r\n    <div className={`${style.header} header dark`}>\r\n      <div className={style.container}>\r\n        <a className={style.logo}>时间胶囊</a>\r\n        <ul className={style.nav}>\r\n          <NavLink to='/home' className={`${style.navItem} nav-item dark`} activeClassName={`${style.navItemActive} nav-item active dark`}>\r\n            首页\r\n          </NavLink>\r\n          <NavLink to='/put' className={`${style.navItem} nav-item dark`} activeClassName={`${style.navItemActive} nav-item active dark`}>\r\n            添加\r\n          </NavLink>\r\n          <NavLink to='/open' className={`${style.navItem} nav-item dark`} activeClassName={`${style.navItemActive} nav-item active dark`}>\r\n            打开\r\n          </NavLink>\r\n        </ul>\r\n        <div \r\n          className={`${style.themeBtn} theme-btn dark`}\r\n          onClick={() => {\r\n            store.change();\r\n          }}\r\n        >\r\n          切换主题\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import { Fragment } from 'react';\r\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\r\nimport Home from './Home';\r\nimport Open from './Open';\r\nimport PutDone from './Put/Done';\r\nimport PutMain from './Put/Main';\r\nimport Header from '../components/Header';\r\n\r\nexport default function Page() {\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route path='/home' component={Home} />\r\n        <Route path='/put' render={() => {\r\n          return (\r\n            <Fragment>\r\n              <Header />\r\n              <Switch>\r\n                <Route path='/put/done' exact component={PutDone} />\r\n                <Route path='/put' render={() => <PutMain />} />\r\n              </Switch>\r\n            </Fragment>\r\n          )\r\n        }} />\r\n        <Route path='/open' render={() => {\r\n          return (\r\n            <Fragment>\r\n              <Header />\r\n              <Open />\r\n            </Fragment>\r\n          )\r\n        }} />\r\n        <Route path='/' component={Home} />\r\n        {/* <Redirect from='/' to='home' /> */}\r\n      </Switch>\r\n    </Router>\r\n  )\r\n}","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './assets/styles/global.less';\r\nimport './assets/styles/dark.less';\r\nimport Page from './pages/index';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Page />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\nreportWebVitals();\r\n"],"sourceRoot":""}